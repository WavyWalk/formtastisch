<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>SubscriptionState | formtastisch</title><meta name="description" content="Documentation for formtastisch"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">formtastisch</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">formtastisch</a></li><li><a href="SubscriptionState.html">SubscriptionState</a></li></ul><h1>Class SubscriptionState</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>subscribes components calling use() on instance of it,
anytime update is called will rerender each subscribed component.
on component unmount, the component will automatically be unsubscribed.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p>use</p>
</dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">SubscriptionState</span><ul class="tsd-hierarchy"><li><a href="FormState.html" class="tsd-signature-type" data-tsd-kind="Class">FormState</a></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="SubscriptionState.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section tsd-is-private-protected"><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#lastSubscribedComponentKey" class="tsd-kind-icon">last<wbr/>Subscribed<wbr/>Component<wbr/>Key</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#subscribedEntries" class="tsd-kind-icon">subscribed<wbr/>Entries</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#version" class="tsd-kind-icon">version</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#_update" class="tsd-kind-icon">_update</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#getNextSubscribedComponentId" class="tsd-kind-icon">get<wbr/>Next<wbr/>Subscribed<wbr/>Component<wbr/>Id</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="SubscriptionState.html#incrementVersion" class="tsd-kind-icon">increment<wbr/>Version</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="SubscriptionState.html#subscribe" class="tsd-kind-icon">subscribe</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#unsubscribe" class="tsd-kind-icon">unsubscribe</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="SubscriptionState.html#update" class="tsd-kind-icon">update</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="SubscriptionState.html#use" class="tsd-kind-icon">use</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">new <wbr/>Subscription<wbr/>State<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="SubscriptionState.html" class="tsd-signature-type" data-tsd-kind="Class">SubscriptionState</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="SubscriptionState.html" class="tsd-signature-type" data-tsd-kind="Class">SubscriptionState</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group tsd-is-private-protected"><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a id="lastSubscribedComponentKey" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagProtected">Protected</span> last<wbr/>Subscribed<wbr/>Component<wbr/>Key<a href="#lastSubscribedComponentKey" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">last<wbr/>Subscribed<wbr/>Component<wbr/>Key<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 0</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L40">subscriptionstate/SubscriptionState.ts:40</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>tracks last subscribed component key reference,
each time component subscribes value be incremented, and such incremented value be used
as key under which component will be subscribed</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a id="subscribedEntries" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagProtected">Protected</span> subscribed<wbr/>Entries<a href="#subscribedEntries" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">subscribed<wbr/>Entries<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol"> = {}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L45">subscriptionstate/SubscriptionState.ts:45</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>will use {@see lastSubscribedComponentKey} and put under it {@see ISubscribedEntry}</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>key: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">]: </span><a href="../interfaces/ISubscribedEntry.html" class="tsd-signature-type" data-tsd-kind="Interface">ISubscribedEntry</a></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a id="version" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagProtected">Protected</span> version<a href="#version" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">version<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 0</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L33">subscriptionstate/SubscriptionState.ts:33</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>state version be incremented on each update
each time component renders, it&#39;s entry be updated with the version of this state.
when it comes to decision if component should be updated,
the version of update be compared to last rendered version,
if they&#39;re same, or rendered version is bigger than state version it will be skipped.
effectively this insures that component be updated exactly once for each version, preventing
rerendering for e.g. nested components subscribed for same state.</p>
</div></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-protected"><a id="_update" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagProtected">Protected</span> _update<a href="#_update" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-protected"><li class="tsd-signature tsd-kind-icon">_update<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L177">subscriptionstate/SubscriptionState.ts:177</a></li></ul></aside><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-protected"><a id="getNextSubscribedComponentId" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagProtected">Protected</span> get<wbr/>Next<wbr/>Subscribed<wbr/>Component<wbr/>Id<a href="#getNextSubscribedComponentId" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-protected"><li class="tsd-signature tsd-kind-icon">get<wbr/>Next<wbr/>Subscribed<wbr/>Component<wbr/>Id<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L147">subscriptionstate/SubscriptionState.ts:147</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>returns next id for subscriber. Internal id is incremented</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private"><a id="incrementVersion" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagPrivate">Private</span> increment<wbr/>Version<a href="#incrementVersion" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private"><li class="tsd-signature tsd-kind-icon">increment<wbr/>Version<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L156">subscriptionstate/SubscriptionState.ts:156</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>each update increments the version. this can be used for e.g. preventing unnecessary rerenders</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-private"><a id="subscribe" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagPrivate">Private</span> subscribe<a href="#subscribe" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-private"><li class="tsd-signature tsd-kind-icon">subscribe<span class="tsd-signature-symbol">(</span>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, updateState<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>args<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span>, options<span class="tsd-signature-symbol">?: </span><a href="../modules.html#ISubscribeOptions" class="tsd-signature-type" data-tsd-kind="Type alias">ISubscribeOptions</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">this</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L133">subscriptionstate/SubscriptionState.ts:133</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>and puts <a href="../interfaces/ISubscribedEntry.html">ISubscribedEntry</a> under subscriber&#39;s id it in <a href="SubscriptionState.html#subscribedEntries">subscribedEntries</a></p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>id: <span class="tsd-signature-type">number</span></h5></li><li><h5>updateState: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>args<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>args<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>args: <span class="tsd-signature-type">any</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <a href="../modules.html#ISubscribeOptions" class="tsd-signature-type" data-tsd-kind="Type alias">ISubscribeOptions</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">this</span><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-protected"><a id="unsubscribe" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagProtected">Protected</span> unsubscribe<a href="#unsubscribe" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-protected"><li class="tsd-signature tsd-kind-icon">unsubscribe<span class="tsd-signature-symbol">(</span>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L151">subscriptionstate/SubscriptionState.ts:151</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>id: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="update" class="tsd-anchor"></a><h3 class="tsd-anchor-link">update<a href="#update" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">update<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L173">subscriptionstate/SubscriptionState.ts:173</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>exists for cases when you need to override it.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-8">FooState</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-8">SubscriptionState</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">update</span><span class="hl-1"> = () </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">doSomeLogic</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">_update</span><span class="hl-1">()</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
</dd></dl></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="use" class="tsd-anchor"></a><h3 class="tsd-anchor-link">use<a href="#use" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">use<span class="tsd-signature-symbol">(</span>options<span class="tsd-signature-symbol">?: </span><a href="../modules.html#ISubscribeOptions" class="tsd-signature-type" data-tsd-kind="Type alias">ISubscribeOptions</a><span class="tsd-signature-symbol">&lt;</span><a href="SubscriptionState.html" class="tsd-signature-type" data-tsd-kind="Class">SubscriptionState</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="SubscriptionState.html" class="tsd-signature-type" data-tsd-kind="Class">SubscriptionState</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/WavyWalk/formtastisch/blob/c243264/src/subscriptionstate/SubscriptionState.ts#L97">subscriptionstate/SubscriptionState.ts:97</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>subscribes component to this state represented by extending instance,
behind the scenes will call useState using someNumber as it&#39;s initial state.
the updateState from called useState and supplied options,
will be stored under generated key on subscribed entries (simple object on this instance),
any time update is called, all entries be traversed and corresponding
update func be called, leading to update.
on unmount entry will be deleted by the key it was subscribed under.</p>
</div><div><p>as options may be passed:</p>
<p>updateDeps?: a function that returns an array of dependencies. Before the next update, same func be called, and
it&#39;s contents compared against the result of previous call. If both are same, update will be ignored
onUnsubscribed?: any cleanup function on component&#39;s unmount.
options are optional</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code><span class="hl-4">someState</span><span class="hl-1">.</span><span class="hl-3">use</span><span class="hl-1">() </span><span class="hl-6">// on update call will trigger update for this component</span><br/><span class="hl-4">someState</span><span class="hl-1">.</span><span class="hl-3">use</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">updateDeps</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">state</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> [</span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">foo</span><span class="hl-1">, </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">bar</span><span class="hl-1">]</span><br/><span class="hl-1">}) </span><span class="hl-6">// will only update if return func of updateDeps is different since last update</span><br/><span class="hl-6">// comparison will happen shallowly and strict.</span><br/><br/><br/><span class="hl-6">//---------------------</span><br/><br/><span class="hl-6">// how it basically works:</span><br/><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-8">SomeState</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-8">SubscriptionState</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">counter</span><span class="hl-1"> = </span><span class="hl-10">1</span><br/><br/><span class="hl-1">  </span><span class="hl-3">updateCounter</span><span class="hl-1"> = () </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">     </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">counter</span><span class="hl-1"> += </span><span class="hl-10">1</span><br/><span class="hl-1">     </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">update</span><span class="hl-1">()</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">SomeComponent</span><br/><span class="hl-1">  </span><span class="hl-4">someState</span><span class="hl-1">.</span><span class="hl-3">use</span><span class="hl-1">()</span><br/><br/><span class="hl-6">// someState.subScribedEntries // {1: {updateState, ...}}</span><br/><br/><span class="hl-4">OtherComponent</span><br/><span class="hl-1">  </span><span class="hl-4">someState</span><span class="hl-1">.</span><span class="hl-3">use</span><span class="hl-1">()</span><br/><br/><span class="hl-6">// someState.subScribedEntries // {2: {updateState, ...}}</span><br/><span class="hl-6">// someState.update() // will just iterate over subscribed components and call update function so they&#39;re rerendered</span><br/><span class="hl-6">// that&#39;s it.</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <a href="../modules.html#ISubscribeOptions" class="tsd-signature-type" data-tsd-kind="Type alias">ISubscribeOptions</a><span class="tsd-signature-symbol">&lt;</span><a href="SubscriptionState.html" class="tsd-signature-type" data-tsd-kind="Class">SubscriptionState</a><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="SubscriptionState.html" class="tsd-signature-type" data-tsd-kind="Class">SubscriptionState</a></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class"><a href="SubscriptionState.html" class="tsd-kind-icon">Subscription<wbr/>State</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="SubscriptionState.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#lastSubscribedComponentKey" class="tsd-kind-icon">last<wbr/>Subscribed<wbr/>Component<wbr/>Key</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#subscribedEntries" class="tsd-kind-icon">subscribed<wbr/>Entries</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#version" class="tsd-kind-icon">version</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#_update" class="tsd-kind-icon">_update</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#getNextSubscribedComponentId" class="tsd-kind-icon">get<wbr/>Next<wbr/>Subscribed<wbr/>Component<wbr/>Id</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="SubscriptionState.html#incrementVersion" class="tsd-kind-icon">increment<wbr/>Version</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><a href="SubscriptionState.html#subscribe" class="tsd-kind-icon">subscribe</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><a href="SubscriptionState.html#unsubscribe" class="tsd-kind-icon">unsubscribe</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="SubscriptionState.html#update" class="tsd-kind-icon">update</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="SubscriptionState.html#use" class="tsd-kind-icon">use</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>